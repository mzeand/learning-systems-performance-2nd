# # 3章 オペレーティングシステム

## 3.1　用語
## 3.2　基礎知識
### 3.2.4 割り込み
- 割り込み（interrupt）とは、プロセッサの現在の処理に割り込んで処理してもらわなければならないようなイベントが発生したことをプロセッサに知らせるシグナルである。
- 外部のハードウェアが生成する非同期割り込みとソフトウェアの命令が生成する同期割り
込みがある。
## 3.3　カーネル
## 3.4　Linux
## 3.5　その他の項目
## 3.6　カーネルの比較

## 3.7　練習問題
### 1. OS用語についての以下の問いに答えなさい。
- プロセス、スレッド、タスクの違いは何か。
  - プロセスはプログラムを実行するための環境
    - マルチプロセスのプログラムは複数同時に起動できる
  - スレッドは実行コンテキストで、プロセスには一つ以上のスレッドが含まれる
    - CPUやコアが複数ある場合
    - 単一CPUの場合でも、利用時間を分割して並行処理する
  - タスクは実行可能なエンティティ
    - シングルスレッドのプロセスか、マルチスレッドのプロセスか、カーネルスレッド
- モードスイッチとコンテキストスイッチとは何か。
  - モードスイッチは、カーネルモードとユーザーモードの切り替え。
    - カーネルモード：デバイスへのフルアクセスと特権的命令の実行
    - ユーザモード：システムコールを介して特権的なオペレーションをカーネルに要求する
  - コンテキストスイッチは、カーネルのCPUスケジューラの通常の機能で、実行中のCPUレジスタ群の内容（スレッドコンテキスト）を新しい内容に切り替えること
- ページングとスワッピングの違いは何か。
  - スワッピングはプロセス全体をメインメモリとセカンダリストレージの間で移動する
  - ページングはページと呼ばれる小さな単位（4KBなど）を移動する
  - Linuxでは、スワッピングという用語はページングと同じ意味で使われている。Linuxカーネルは、スレッド全体、あるいはプロセス全体の（古い）Unix スタイルのプロセススワッピングをサポートしていない。
- I/OバウンドワークロードとCPUバウンドワークロードの違いは何か。
  - CPUバウンド：CPUに負担のかかる計算を実行するアプリケーション
    - 実行時間（秒、分、時間、日、あるいはそれ以上）が長くなることが予想される。 CPUリソースによって制約される。
  - I/Oバウンド：主としてI/O を行い、CPUにほとんど負担をかけないアプリケーション
    - 負荷が増えると、ストレージやネットワークリソースとの間のI/Oによって制約される。

### 2. コンセプトについての以下の問いに答えなさい。
- カーネルの役割を説明しなさい。
  - ハードウェア、メモリ、CPUスケジューリングなどのシステムを管理するプログラム。
- システムコールの役割を説明しなさい。
  - ユーザープログラムが、デバイスI/O などの特権的なオペレーションの実行をカーネルに要求するための明確に定義されたプロトコル
  - アプリケーションが致命的な操作をすることを防ぐ
- VFS（virtual file system）の役割とI/Oスタック内での位置を説明しなさい。
  - ファイルシステムタイプを抽象化するためのカーネルインターフェイス
  - アプリケーション -> VFS -> ファイルシステム

### 3. 難易度の高い以下の問いに答えなさい。
- スレッドがCPUを手放す理由を列挙しなさい。
- 仮想メモリとデマンドページングの利点を説明しなさい。
  - デマンドページングとは、該当アドレスのメモリ内容が必要となった時点で、物理ページを論理ページに割り当てる方式
  - 利点
    - アクセスされないページはロードされないのでメモリ使用量が節約できる
    - プログラム実行開始前のロードによる遅延がない
  


