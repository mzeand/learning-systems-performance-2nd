# 第2章 メソドロジ

> 人に魚を与えれば一日分の食事を与えられる。
> 人に漁を教えれば一生分の食事を与えられる。

中国の格言 ([解説の参考ページ](http://roushiweb.com/category4/entry104.html))

- ツールや指標だけでなく、ノウハウが重要。
  - manページを熟読しても解決方法を導くことは難しい。
  - manページにはノウハウは記載されていない。
- 筆者はパフォーマンスのメソドロジ（方法論）を集め、文書化、共有し、自前のメソドロジを開発した。
- 本書のすべての章のうち、初版からの変更がもっとも少なかったのがこの章。

## 2.1 用語
- システムパフォーマンスについての重要な用語まとめ。
  - IOPS(Input/output Operations Per Second)
  - スループット(throughput)
    - 通信では、データ転送速度（datarate、1秒あたりのバイト数または1秒あたりのビット数）
    - データベースなどでは、処理速度（operation rate、1秒あたりのオペレーション数または1秒あたりのトランザクション数）
  - 応答時間(response time): オペレーションが完了するまでの時間
  - レイテンシ(latency)
    - オペレーションがサービスの提供を待つために使った時間
    - コンテキストによっては、オペレーションにかかった時間全体、すなわち応答時間と同じ意味になる
  - 使用率(utilizaiton)
  - 飽和度(saturation)
  - ボトルネック(bottleneck)
  - ワークロード(workload): システムに対する入力、またはシステムにかけられる負荷のこと
    - 🤔 [クラウド時代の身近な用語「ワークロード」とはいったい何なのか？](https://qiita.com/mizukyf/items/8e65b516f600cb60518a)
  - キャッシュ(cache)

## 2.2 モデル
### 2.2.1
### 3.2.2

## 2.3 コンセプト
### 2.3.1 レイテンシ
### 2.3.2 タイムスケール
### 2.3.3 トレードオフ
### 2.3.4 チューニング
### 2.3.5 適切性のレベル
### 2.3.6 いつ　分析を止めるのか
### 2.3.7 基準時の推奨値
### 2.3.8 負荷かアーキテクチャか
### 2.3.9 スケーラビリティ
### 2.3.10 パフォーマンス指標
### 2.3.11 使用率
### 2.3.12 飽和度
### 2.3.13 プロファイリング
### 2.3.14 キャッシング
### 2.3.15 Known-Unkhowns

## 2.4 視点
### 2.4.1 リソース分析
### 2.4.2 ワークロード分析

## 2.5 メソドロジ
### 2.5.1 街頭のアンチメソッド
### 2.5.2 ランダム変更アンチメソッド
### 2.5.3 誰か他人のせいにするアンチメソッッド
### 2.5.4 アドホックチェックリストメソッド
### 2.5.5 問題の記述
### 2.5.6 科学的メソッド
### 2.5.7 診断サイクル
### 2.5.8 ツールメソッド
### 2.5.9 USEメソッド
### 2.5.10 REDメソッド
### 2.5.11 ワークロードの特性の把握
### 2.5.12 ドリルダウン分析
### 2.5.13 レイテンシ分析
### 2.5.14 メソッドR
### 2.5.15 イベントトレーシング
### 2.5.16 ベースライン統計
### 2.5.17 静的パフォーマンスチューニング
### 2.5.18 キャッシュのチューニング
### 2.5.19 マイクロベンチマーキング
### 2.5.20 パフォーマンスマントラ

## 2.6 モデリング
### 2.6.1 エンタープライズシステムかクラウドシステムか
### 2.6.2 視覚的な究明
### 2.6.3 スケーラビリティに関するアムダールの法則
### 2.6.4 ユニバーサルスケーラビリティ法則
### 2.6.5 待ち行列理論

## 2.7 キャパシティプランニング
### 2.7.1 リソースの限界
### 2.7.2 要素分析
### 2.7.3 スケーラビリティを向上させる方法

## 2.8 統計量
### 2.8.1 パフォーマンスゲインの定量化
### 2.8.2 平均
### 2.8.3 標準偏差, パーセンタイル, 中央値
### 2.8.4 変動係数
### 2.8.5 文峰分布
### 2.8.6 外れ値

## 2.9 モニタリング
### 2.9.1 時系列的なパターン
### 2.9.2 モニタリングプロダクト
### 2.9.3 ブート以降の集計

## 2.10 ビジュアライゼーション
### 2.10.1 折れ線グラフ
### 2.10.2 分布図
### 2.10.3 ヒートマップ
### 2.10.4 タイムライン図
### 2.10.5 表面プロット
### 2.10.6　ビジュアライゼーションツール

## 2.11 練習問題
1. パフォーマンスの基本用語についての以下の問いに答えなさい。
 - IOPSとは何か。
 - 使用率とは何か。
 - 飽和（度）とは何か。
 - レイテンシとは何か。
 - マイクロベンチマーキングとは何か。
2. あなたの（または架空の）環境で使うメソドロジを5 つ選びなさい。実施する順序で並べ、個々のメソドロジを選んだ理由を説明しなさい。
3. 唯一のパフォーマンス指標として平均レイテンシを使ったときの問題点を簡潔に説明しなさい。99パーセンタイルを含めれば、その問題は解決できるか。

## 2.12 参考文献

